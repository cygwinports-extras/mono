--- origsrc/mono-2.4.2.3/configure.in	2009-12-07 14:01:01.419551200 -0600
+++ src/mono-2.4.2.3/configure.in	2009-12-06 22:58:07.904655200 -0600
@@ -14,11 +14,6 @@ AC_SUBST(API_VER)
 
 AC_PROG_LN_S
 
-# In case of cygwin, override LN_S, irrespective of what it determines.
-# The build uses cygwin, but the actual runtime doesn't.
-case $host_os in
-*cygwin* ) LN_S='cp -p';;
-esac
 
 
 dnl
@@ -73,7 +68,17 @@ case "$host" in
 esac
 
 case "$host" in
-	*-*-mingw*|*-*-cygwin*)
+	*-*-cygwin*)
+		platform_win32=no
+		CPPFLAGS="$CPPFLAGS -D_GNU_SOURCE -D_REENTRANT -DFD_SETSIZE=1024"
+		libmono_cflags="-D_REENTRANT"
+		libmono_ldflags="-lpthread"
+		libdl=""
+		gc_default=none
+		with_sigaltstack=no
+		with_tls=pthread
+		;;
+	*-*-mingw*)
 		platform_win32=yes
 		AC_DEFINE(PLATFORM_WIN32,1,[Platform is Win32])
 		if test "x$cross_compiling" = "xno"; then
@@ -1644,7 +1649,7 @@ case "{$target}" in
 
 dnl Win32 does not have /dev/random, they have their own method...
 
-    *-*-mingw*|*-*-cygwin*)
+    *-*-mingw*)
     ac_cv_have_dev_random=no
     ;;
 
@@ -2043,6 +2048,14 @@ AM_CONDITIONAL(USE_JIT, test x$USEJIT = 
 libsuffix=".so"
 
 case "$host" in
+     *-*-*cygwin*)
+	libsuffix=".dll"
+	LIBC="cygwin1.dll"
+	INTL="cygintl-8.dll"
+	SQLITE="cygsqlite-0.dll"
+	SQLITE3="cygsqlite3-0.dll"
+	X11="cygX11-6.dll"
+	;;
      *-*-darwin*)
 	libsuffix=".dylib"
 	LIBC="libc.dylib"
@@ -2354,7 +2368,7 @@ AC_CONFIG_COMMANDS([runtime/etc/mono/2.0
 ],[LN_S='$LN_S'])
 
 if test x$enable_quiet_build = xyes; then
-   AC_CONFIG_COMMANDS([quiet], [for i in `find mono libgc support -name Makefile.in | sed -e 's/Makefile.in/Makefile/g'`; do if test -f $i; then $srcdir/scripts/patch-quiet.sh $i; fi; done], [shell=$SHELL])
+   AC_CONFIG_COMMANDS([quiet], [for i in `find mono libgc support -name Makefile`; do $srcdir/scripts/patch-quiet.sh $i; done], [shell=$SHELL])
    AC_CONFIG_COMMANDS([quiet-libtool], [sed -e 's/$echo "copying selected/$show "copying selected/g' < libtool > libtool.tmp && mv libtool.tmp libtool && chmod a+x libtool])
 fi
 
--- origsrc/mono-2.4.2.3/mono/metadata/boehm-gc.c	2009-07-15 13:49:47.000000000 -0500
+++ src/mono-2.4.2.3/mono/metadata/boehm-gc.c	2009-12-06 16:58:01.731512900 -0600
@@ -214,7 +214,7 @@ mono_gc_register_thread (void *baseptr)
 #else
 	if (mono_gc_is_gc_thread())
 		return TRUE;
-#if defined(USE_INCLUDED_LIBGC) && !defined(PLATFORM_WIN32)
+#if defined(USE_INCLUDED_LIBGC) && !defined(WIN32_THREADS)
 	return GC_thread_register_foreign (baseptr);
 #else
 	return FALSE;
--- origsrc/mono-2.4.2.3/mono/metadata/console-io.c	2009-12-07 14:01:01.497551400 -0600
+++ src/mono-2.4.2.3/mono/metadata/console-io.c	2009-12-06 16:30:31.000000000 -0600
@@ -48,6 +48,10 @@
 #endif
 #endif
 
+#ifdef __CYGWIN__
+#define FIONREAD TIOCINQ
+#endif
+
 #include <mono/metadata/console-io.h>
 #include <mono/metadata/exception.h>
 
--- origsrc/mono-2.4.2.3/mono/metadata/mono-config.c	2009-12-07 14:01:01.559951500 -0600
+++ src/mono-2.4.2.3/mono/metadata/mono-config.c	2009-12-06 16:30:31.000000000 -0600
@@ -36,6 +36,8 @@
 #define CONFIG_OS "aix"
 #elif defined(__hpux)
 #define CONFIG_OS "hpux"
+#elif defined(__CYGWIN__)
+#define CONFIG_OS "cygwin"
 #else
 #warning Unknown operating system
 #define CONFIG_OS "unknownOS"
--- origsrc/mono-2.4.2.3/mono/mini/mini-x86.h	2009-12-07 14:01:01.622351600 -0600
+++ src/mono-2.4.2.3/mono/mini/mini-x86.h	2009-12-06 16:30:31.000000000 -0600
@@ -2,13 +2,8 @@
 #define __MONO_MINI_X86_H__
 
 #include <mono/arch/x86/x86-codegen.h>
-#ifdef PLATFORM_WIN32
-#include <windows.h>
-/* use SIG* defines if possible */
-#ifdef HAVE_SIGNAL_H
-#include <signal.h>
-#endif
 
+#if defined(PLATFORM_WIN32) || defined(__CYGWIN__)
 /* sigcontext surrogate */
 struct sigcontext {
 	unsigned int eax;
@@ -21,6 +16,14 @@ struct sigcontext {
 	unsigned int edi;
 	unsigned int eip;
 };
+#endif
+
+#ifdef PLATFORM_WIN32
+#include <windows.h>
+/* use SIG* defines if possible */
+#ifdef HAVE_SIGNAL_H
+#include <signal.h>
+#endif
 
 typedef void (* MonoW32ExceptionHandler) (int);
 void win32_seh_init(void);
--- origsrc/mono-2.4.2.3/mono/utils/mono-dl.c	2009-12-07 14:01:01.684751700 -0600
+++ src/mono-2.4.2.3/mono/utils/mono-dl.c	2009-12-06 16:30:31.000000000 -0600
@@ -19,6 +19,11 @@ static const char suffixes [][8] = {
 	".so",
 	".bundle"
 };
+#elif defined(__CYGWIN__)
+#define SOPREFIX "cyg"
+static const char suffixes [][5] = {
+	".dll"
+};
 #else
 #define SOPREFIX "lib"
 static const char suffixes [][4] = {
